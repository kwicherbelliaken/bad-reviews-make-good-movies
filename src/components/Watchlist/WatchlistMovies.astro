---
import WatchlistMovie from "./WatchlistMovie.astro";

const username = "trial-user";
const watchlistId = "8JWw9ZPsUtkD-14h0Fnzs";

const response = await fetch(
  `https://hh2877m7a0.execute-api.ap-southeast-2.amazonaws.com/users/${username}/watchlist/${watchlistId}`,
  {
    method: "GET",
  }
);

const movies = await response.json();
---


<div class="flex flex-col w-[70%] h-full gap-4">
  {movies.map((movie) => <WatchlistMovie movie={movie} />)}
</div>
